eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([79a-df-hj-oqrt-vzA-Z]|[1-3]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('h Game=1G(7(){h self=o,1H=1f.location.hash==\'#1H\',1Y=A.isWebApp,1v=g,a,1Z=[4,6,8,10],20=0,19=null,P=0,2x=[\'精彩\',\'太惊人了\',\'不可思议\',\'真棒!\',\'非常好\',\'赞\',\'好评\',\'Great\',\'Well done\',\'难以置信\',\'聪明\',\'耀眼\',\'极好的\',\'太优秀了\',\'Nice\',\'Super\',\'good\',\'完美\',\'出色\',\'撒花\',\'恭喜\',\'鼓掌\',\'Yay\'],1I=[],21,23,25,1J,N=z,T=[],1K=g,1a=g;7 26(){$(\'#28\').Z(1w());9(11.isTouch())$(\'Z\').B(\'touch\');$(\'[j-f]\').1x(7(i,q){h $q=$(q),f=$q.U(\'j-f\')*1,2y=1Z[f-1];$q.Z(2y);$q.on(\'2z 2A\',7(F){9(11.29(F))c g;h f=1Z[$(F.1y).1g(\'[j-f]\').U(\'j-f\')*1-1];2a(f)})});J();$(A).on(\'J\',J);$(A).on(\'orientationchange\',J)};7 1z(){m(7(){BackgroundService.kick()},2b);2B();1h()};7 J(){h 1c={k:2C,r:480},2D=1c.k/1c.r,1d={k:$(\'#2E\').k(),r:$(\'#2E\').r()},2c=((1d.k/1d.r)<2D);h 1i={k:C.1L(2c?1d.k:(1d.r/1c.r)*1c.k),r:C.1L(2c?(1d.k/1c.k)*1c.r:1d.r)};$(\'#container\').D({\'k\':1i.k+\'t\',\'r\':1i.r+\'t\'});h O=1i.k;$(\'h1\').D(\'12-f\',C.K(O*.24)+\'t\');$(\'h2\').D(\'12-f\',C.K(O*.18)+\'t\');$(\'h3\').D(\'12-f\',C.K(O*.15)+\'t\');$(\'p\').D(\'12-f\',C.K(O*.07)+\'t\');$(\'#V h2\').D(\'12-f\',C.K(O*.24)+\'t\');$(\'#V p\').D(\'12-f\',C.K(O*.1)+\'t\');$(\'#V p\').D(\'padding\',C.K(O*.05)+\'t 0\');$(\'#V p\').D(\'2d-r\',C.K(O*.1)+\'t\');h 1M=C.K(O*.1);$(\'#W\').D({\'12-f\':1M+\'t\',\'2d-r\':(1M*0.85)+\'t\',\'r\':1M+\'t\'});h 1A=C.1L((22/2C)*O);$(\'.icon\').D({k:1A,r:1A,marginLeft:1A,marginRight:1A});$("#13 .13").D({\'k\':1i.k+\'t\'});$("#1N .13").D({\'k\':1i.k*0.6+\'t\'});$(\'.13 table\').1x(7(i,q){h $q=$(q),id=$q.U(\'j-a\'),w=$q.parent().k(),f=$q.2e(\'tr\').2H().children(\'td\').1k;h 1e=C.1L(w/f);9(!1e)c;$q.2e(\'.d\').D({k:1e,r:1e,\'2d-r\':C.K(1e*0.85)+\'t\',\'12-f\':C.K(1e*0.5)+\'t\'});h 1B=C.K(1e*0.1);h 2I=\'<2J>#\'+id+\' .d .2g { 2K-1B: \'+1B+\'t; }#\'+id+\' .d-1 .2g:2L, #\'+id+\' .d-2 .2g:2L { 2K-1B: \'+1B+\'t; }</2J>\';$(\'head\').2H().append($(2I))})};7 2h(){N=z;$(\'.1C\').L().v(\'b\');$(\'#2M\').b();m(7(){$(\'#2M\').B(\'b\')},0)};7 1l(){N=g;$(\'.1C\').L().v(\'b\');$(\'#1m\').b();m(7(){$(\'#1m\').B(\'b\')},0);J()};7 1h(){N=z;2i();$(\'.1C\').L().v(\'b\');$(\'#V\').b();$(\'#28\').Z(1w());m(7(){$(\'#V\').B(\'b\')},0);J()};7 1O(){N=g;$(\'.1C\').L().v(\'b\');$(\'#2j\').b();m(7(){$(\'#2j\').B(\'b\')},0);J()};7 2N(){N=g;$(\'.1C\').L().v(\'b\');$(\'#1n\').b();m(7(){$(\'#1n\').B(\'b\')},0);J()};7 2k(){N=g;1l();$(\'#2l\').Z(\'<1o>选择关卡</1o>\');$(\'#1N\').v(\'14\');$(\'#13\').B(\'14\');$(\'#Q [j-l]\').not(\'[j-l="1P"]\').L();$(\'#13\').B(\'14\');$(\'#W\').b();m(7(){9(a)a.X();$(\'#W\').B(\'b\')},0)};7 2a(f){N=g;$(\'#1m\').v(\'b\');J();9(1Q.hasPuzzleAvailable(f)){m(7(){1p(1Q.2O(f))},2b);c}m(7(){h E=1Q.2O(f);1p(E)},2b)};7 1p(E){N=g;9(!E||!E.f||!E.2P)throw\'no proper E object received\';2i();9(A.STOPPED)c;1v=g;$(\'#16\').1g(\'.2Q\').D(\'2R\',\'inline-block\');$(\'#1N\').B(\'14\');$(\'#13\').v(\'14\');$(\'#Q [j-l]\').b();$(\'#2S, #2T\').L();$(\'#2U\').v(\'b\');$(\'#W\').v(\'b\').L();$(\'#Q [j-l="17"]\').v(\'14 wiggle\');$(\'#Q [j-l="17"]\').v(\'1D\');$(\'#2l\').Z(\'<1o>\'+E.f+\' x \'+E.f+\'</1o>\');a=1G Grid(E.f,E.f);20=E.f;a.load(E.2V,E.2P);a.1x(7(){o.n=o.n;9(o.n>0)o.1R=z});a.state.save(\'2V\');19=E;a.u.1q=z;a.activateDomRenderer();a.render();T=[];1K=g;1a=g;m(1l,0)};7 2W(){h 2m=1w(),R=1S(a.k*a.r);a.1T();a.u.L();a.u.1q=g;h 2X=2Y()+\'!\';$(\'#2l\').Z(\'<1o>\'+2X+\'</1o>\');a.1x(7(){o.1R=z});$(\'#Q [j-l]\').L();25=m(7(){$(\'#a .d\').B(\'completed\');21=m(7(){$(\'#13\').B(\'14\');23=m(7(){1a=z;$(\'#1N\').v(\'14\');$(\'#2U\').B(\'b\');$(\'#W\').b();9(!1v){9(R>2m){2Z(2m,R);9(1Y&&!19.2n){30(19.f);$(\'#2S, #2T\').b()}}}$(\'#Q [j-l="1P"]\').b();m(7(){$(\'#W\').B(\'b\')},0)},50)},31)},1200);9(!19.2n)1Q.finishedSize(a.k)};7 33(){1a=z;9(a){a.1T();a.u.L();a.u.1q=g;a.1x(7(){o.1R=z})}2k()};7 2B(){1f.addEventListener("backbutton",1U,g);9(A.2o)2o.Application.onbackclick=1U;$(1f).on(\'keydown\',7(F){9(F.2p==27){1U();c g}9(F.2p==32){1r(\'17\');c g}9(F.2p==90&&(F.metaKey||F.ctrlKey)){1r(\'16\');c g}});$(1f).on(\'touchend mouseup\',34);$(1f).on(\'2z 2A\',\'#a td\',2q);$(1f).on(\'contextmenu\',7(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();c g})};7 2q(e){9(A.11&&11.29(e))c g;h $q=$(e.1y).1g(\'td\'),x=$q.U(\'j-x\')*1,y=$q.U(\'j-y\')*1,d=a.d(x,y),35=(e.which===3);I(P);9(d.1R){h $d=$q.2e(\'.d\');$d.B(\'36\');m(7(){$d.v(\'36\')},2r);c g}9(S.1q){S.2q(d);c g}9(a&&a.u)a.u.X();h 1s=[d,d.n,1G 37()];9(T.1k){h 2s=T[T.1k-1],38=2s[0],39=2s[2];9(38.id!=d.id||(1G 37()-39>2r))T.3a(1s)}G T.3a(1s);9(35){9(d.3b)d.n=2;G 9(d.n==2)d.n=1;G d.X()}G{9(d.3b)d.n=1;G 9(d.n==1)d.n=2;G d.X()}P=m(7(){1V()},3c);c g};7 34(F){9(A.11&&11.29(F))c g;h $q=$(F.1y).1g(\'*[j-l]\'),l=$(F.1y).1g(\'*[j-l]\').U(\'j-l\'),n=$q.U(\'j-n\');9(l&&l!=\'1Y\'){9(l=="1n"){9($(F.1y).hasClass(\'p\'))$("#1n").U("j-l","b-V");G $("#1n").U("j-l","b-1m")}1r(l,n);c g}};7 1r(l,n){switch(l){M\'3d-titleScreen\':9(!1E())1F();G 1h();H;M\'b-V\':I(P);S.2t();9(a)a.u.X();1h();H;M\'1P\':9(1a)c 1r(\'b-V\');I(P);S.2t();33();H;M\'1t\':I(P);S.2t();9(a)a.u.X();2a(20);H;M\'16\':9(!1a)16();H;M\'retry\':I(P);$(\'#1m\').v(\'b\');9(S.1q||19.2n){m(7(){S.1z()},3e);c}m(7(){1p(19)},3e);H;M\'17\':9(1a)H;I(P);9(S.1q&&!S.hintAllowed())c;9(a.u.3f)a.u.X();G{a.u.X();a.u.1t()}H;M\'1n\':2N();H;M\'b-1m\':1l();H;M\'play\':2k();H;M\'tutorial\':1F();H;M\'2j\':1O();H}};7 1V(){9(a.emptyTileCount>0){9(!a.3g())3h();G{$(\'#Q [j-l="17"]\').v(\'1D\')}c}9(a.wrongTiles.1k>0){a.u.1t();c}2W()};7 3h(){$(\'#Q [j-l="17"]\').v(\'1D\');I(1J);m(7(){a.3g(z);h 2u=g;for(h i=0;i<a.k;i++){h ci=a.getColInfo(i),ri=a.getRowInfo(i);9((ci.3i&&(ci.3j||!ci.3k))||(ri.3i&&(ri.3j||!ri.3k))){2u=z;H}}9(2u){$(\'#Q [j-l="17"]\').B(\'1D\');1J=m(7(){$(\'#Q [j-l="17"]\').v(\'1D\')},31)}},0)};7 1E(){9(!A.1u)c z;c(A.1u.3l(\'1E\')+\'\')==\'z\'};7 3m(){9(!A.1u)c;A.1u.3n(\'1E\',z)};7 1F(){N=g;S.1z();1v=z;9(!1E())1v=g;3m();$(\'#16\').1g(\'.2Q\').D(\'2R\',\'none\')};7 1U(){9(N){9(A.2o)A.3d();G navigator.app.exitApp()}G 1r(\'1P\');c z};7 2Y(){9(!1I.1k)1I=11.shuffle(2x.slice(0));c 11.draw(1I)};7 1w(){c(A.1u.3l(\'W\')*1)};7 1S(2v){I(1S.3o);h Y=W=1w(),R=Y+(2v?2v:0);9(R<=Y)c Y;A.1u.3n(\'W\',R);c R};7 2Z(Y,R){h 3p=2r/(R-Y);1t();7 1t(){$(\'#28\').Z(Y);9(Y<R)Y++;1S.3o=m(1t,3p)}};7 16(){9(!T.1k){9(a.u.3f){a.1T();a.u.L();c}9(!1K)a.u.b(\'无可撤销不走\');G a.u.b(\'没有可撤销的步骤\');c}h 1s=T.pop(),d=1s[0],n=1s[1];a.1T();9(n>=0){d.n=n}G{d.X()}d.mark();h s=\'此方块已被撤销为 \';9(n==1)s+=\'红色.\';9(n==2)s+=\'蓝色.\';9(n==0)s+=\'\';a.u.b(s);1K=z;I(P);P=m(7(){heckForLevelComplete()},3c)};7 2i(){I(21);I(23);I(25);I(1J)};7 30(f){};o.1z=1z;o.26=26;o.1p=1p;o.2h=2h;o.1l=1l;o.1h=1h;o.J=J;o.1O=1O;o.1F=1F;o.1V=1V;o.16=16;A.2w(\'d\',7(){c a.d});o.2w(\'a\',7(){c a});o.2w(\'1H\',7(){c 1H})})();',[],212,'|||||||function||if|grid|show|return|tile||size|false|var||data|width|action|setTimeout|value|this||el|height||px|hint|removeClass||||true|window|addClass|Math|css|puzzle|evt|else|break|clearTimeout|resize|round|hide|case|onHomeScreen|containerSize|checkTOH|bar|newScore|Tutorial|undoStack|attr|menu|score|clear|curScore|html||Utils|font|board|hidden||undo|help||currentPuzzle|gameEnded||desired|viewport|tileSize|document|closest|showMenu|box||length|showGame|game|rules|span|startGame|active|doAction|undoState|next|localStorage|startedTutorial|getScore|each|target|start|iconSize|radius|screen|subtleHint|tutorialPlayed|startTutorial|new|debug|remainingOjoos|endSubtleHintTOH|undone|floor|scoreSize|menugrid|showAbout|back|Levels|system|setScore|unmark|backButtonPressed|checkForLevelComplete|||tweet|sizes|lastSize|endGameTOH1||endGameTOH2||endGameTOH3|init||scorenr|isDoubleTapBug|loadGame|100|sizeToWidth|line|find||inner|showTitleScreen|clearTimeouts|about|showSizes|boardsize|oldScore|isTutorial|WinJS|keyCode|tapTile|500|lastState|end|invalidFullRowOrColumnFound|addPoints|__defineGetter__|ojoos|label|touchstart|mousedown|addEventListeners|320|aspectRatio|feelsize|||first|radiusCss|style|border|after|title|showRules|getSize|full|iconcon|display|tweeturl|facebook|chooseSize|empty|endGame|ojoo|getOjoo|animateScore|updateTweetUrl|2000||quitCurrentGame|click|rightClick|error|Date|lastTile|lastChange|push|isEmpty|700|close|300|visible|isValid|hintAboutError|isFull|isInvalid|unique|getItem|markTutorialAsPlayed|setItem|TOH|delay'.split('|'),0,{}))